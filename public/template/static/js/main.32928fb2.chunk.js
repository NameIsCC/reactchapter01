(this.webpackJsonpreactchapter01=this.webpackJsonpreactchapter01||[]).push([[0],{153:function(e,t,a){e.exports=a(280)},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},245:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},266:function(e,t,a){},278:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),s=a.n(c),o=a(12),l=a(13),i=a(15),u=a(14),m=a(16),p=(a(158),a(41)),d=(a(159),a(160),a(161),a(286)),h=a(63),E=a(31),f=a(10),b=a(283),y=d.a.Search,g=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Banner"},r.a.createElement("div",{className:"top"},r.a.createElement(h.a,null,r.a.createElement(E.a,{span:4},r.a.createElement(f.a,{type:"environment"})),r.a.createElement(E.a,{span:16},r.a.createElement(y,{className:"stype",placeholder:"\u8f93\u5165\u5173\u952e\u5b57",onSearch:function(e){return console.log(e)}})),r.a.createElement(E.a,{span:4},r.a.createElement(f.a,{type:"scan"})))),r.a.createElement(b.a,{autoplay:!0,dots:"false"},this.props.data.map((function(e,t){return r.a.createElement("div",{key:e._id},r.a.createElement("img",{className:"swiper",src:r.a.baseUrl+e.icon}))}))))}}]),t}(r.a.Component),O=Object(p.g)(g),v=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Header"},r.a.createElement(O,{data:this.props.banner,dataName:"detail"}))}}]),t}(r.a.Component),j=a(284),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).detail=function(e,t){a.props.history.push({pathname:"/detail/"+e,search:"dataName="+t})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.dataname)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Cell"},r.a.createElement(j.a,{dataname:this.props.dataName,itemLayout:"horizontal",dataSource:this.props.data,renderItem:function(t){return r.a.createElement(j.a.Item,{onClick:function(){e.detail(t._id,e.props.dataname)}},r.a.createElement(j.a.Item.Meta,{title:r.a.createElement("a",null,t.title),description:t.des}))}}))}}]),t}(r.a.Component),w=Object(p.g)(N),_=(a(245),a(27)),C=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement(h.a,null,r.a.createElement(E.a,{span:8},r.a.createElement(_.b,{to:"/home"},r.a.createElement(f.a,{className:"icon",type:"home",style:{fontSize:"35px"}}),r.a.createElement("span",null,"\u9996\u9875")," ")),r.a.createElement(E.a,{span:8},r.a.createElement(_.b,{to:"/list"},r.a.createElement(f.a,{className:"icon",type:"sound",style:{fontSize:"35px"}}),r.a.createElement("span",null,"\u70ed\u6587"))),r.a.createElement(E.a,{span:8},r.a.createElement(_.b,{to:"/user"},r.a.createElement(f.a,{className:"icon",type:"user",style:{fontSize:"35px"}}),r.a.createElement("span",null,"\u7528\u6237")," "))))}}]),t}(r.a.Component),S=a(32),k=a(42),x=a.n(k),A=function(e){var t=e.api,a=(e._page,e._limit,e.id),n=void 0===a?null:a,r=e.type;return function(e){x()({url:n?"/api/".concat(t,"/").concat(n):"/api/".concat(t)}).then((function(t){console.log(t.data.data,r),e({type:r,payload:t.data.data})})).catch((function(e){return new Error(e)}))}},L=function(e){var t=e.api,a=e.method,n=void 0===a?"get":a,r=e.name,c=e.password;return function(e,a){return x()({url:"/api/".concat(t),method:n,params:"get"===n?{name:r,password:c}:null,data:"post"===n?{name:r,password:c}:null}).then((function(t){return console.log(t.data),e({type:"CHECK_USER",payload:t.data}),t.data}))}},U=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this)),e.getHome(),e.getBanner(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement(v,{banner:this.props.banner,dataname:"banner"}),r.a.createElement(w,{data:this.props.home,dataname:"home"}),r.a.createElement(C,null))}}]),t}(r.a.Component),R=Object(S.b)((function(e){return{banner:e.banner,home:e.home}}),(function(e){return{getHome:function(){e({type:"CLEAR_HOME"}),e(A({api:"home",type:"UPDATE_HOME"}))},getBanner:function(){e(A({api:"banner",type:"UPDATE_BANNER"}))}}}))(U),D=(a(263),a(287)),I=a(109),P=a(71),H=a(145);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(H.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=a(146),M=Object(P.c)((function(e,t){var a=t.type,n=t.payload;switch(a){case"VIEW_LOADING":return T({},e,{Loading:n});case"UPDATE_HOME":return T({},e,{home:n});case"CLEAR_HOME":return console.log(111),T({},e,{home:n});case"CLEAR_BANNER":case"UPDATE_BANNER":return T({},e,{banner:n});case"CLEAR_LIST":return console.log(33),T({},e,{list:n});case"UPDATE_LIST":return T({},e,{list:n});case"CHECK_USER":return T({},e,{user:n});case"CLEAR_USER":return T({},e,{user:{err:1,msg:"\u672a\u767b\u5f55",data:{}}});default:return e}}),{Loading:!1,home:[],list:[],column:[],banner:[],detail:[],user:{err:1,msg:"\u672a\u767b\u5f55",data:[]}},Object(P.a)(B.a)),J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",mess:""},a.back=function(){a.props.history.go(-1)},a.name=function(e){console.log(e.target.value),a.setState({username:e.target.value})},a.password=function(e){console.log(e.target.value),a.setState({password:e.target.value})},a.login=function(){M.dispatch(L({api:"login",method:"post",name:a.state.username,password:a.state.password})).then((function(e){1===e.err?a.setState({mess:e.msg}):(window.localStorage.setItem("react_news_app_uid",JSON.stringify(e)),a.props.history.push("/user"))}))},a.reg=function(){a.props.history.push("/reg")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"top"},r.a.createElement(f.a,{onClick:this.back,className:"icon",type:"left",style:{fontSize:"30px"}}),r.a.createElement("span",{className:"reg",onClick:this.reg},"\u6ce8\u518c")),r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"icon"},r.a.createElement(f.a,{type:"team",style:{fontSize:"150px"}})),r.a.createElement("div",null,r.a.createElement(d.a,{onChange:this.name,value:this.state.username,className:"input",placeholder:"\u8f93\u5165\u8d26\u53f7",prefix:r.a.createElement(f.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),suffix:r.a.createElement(D.a,{title:"Extra information"},r.a.createElement(f.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}}))}),r.a.createElement(d.a,{onChange:this.password,value:this.state.password,className:"input",placeholder:"\u8f93\u5165\u5bc6\u7801",prefix:r.a.createElement(f.a,{type:"menu",style:{color:"rgba(0,0,0,.25)"}}),suffix:r.a.createElement(D.a,{title:"Extra information"},r.a.createElement(f.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}}))}),r.a.createElement("span",{className:"mess"},this.state.mess),r.a.createElement(I.a,{className:"btn",type:"primary",onClick:this.login,block:!0},"\u767b\u9646"))))}}]),t}(r.a.Component),V=(a(264),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={username:"",password:"",mess:""},a.back=function(){a.props.history.go(-1)},a.username=function(e){console.log(e.target.value),a.setState({username:e.target.value})},a.password=function(e){console.log(e.target.value),a.setState({password:e.target.value})},a.reg=function(){r.a.axios({url:"/api/reg",method:"post",data:{name:a.state.username,password:a.state.password}}).then((function(e){1===e.data.err?a.setState({mess:e.data.msg}):a.props.history.push("/login")}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"top"},r.a.createElement(f.a,{onClick:this.back,className:"icon",type:"left",style:{fontSize:"30px"}})),r.a.createElement("div",{className:"Reg"},r.a.createElement("div",{className:"icon"},r.a.createElement(f.a,{type:"user-add",style:{fontSize:"150px"}})),r.a.createElement("div",null,r.a.createElement(d.a,{onChange:this.username,value:this.state.username,className:"input",placeholder:"\u8f93\u5165\u8d26\u53f7",prefix:r.a.createElement(f.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),suffix:r.a.createElement(D.a,{title:"Extra information"},r.a.createElement(f.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}}))}),r.a.createElement(d.a,{onChange:this.password,value:this.state.password,className:"input",placeholder:"\u8f93\u5165\u5bc6\u7801",prefix:r.a.createElement(f.a,{type:"menu",style:{color:"rgba(0,0,0,.25)"}}),suffix:r.a.createElement(D.a,{title:"Extra information"},r.a.createElement(f.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}}))}),r.a.createElement("span",{className:"mess"},this.state.mess),r.a.createElement(I.a,{className:"btn",type:"primary",onClick:this.reg,block:!0},"\u6ce8\u518c"))))}}]),t}(r.a.Component)),W=a(50),G=a.n(W),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).logout=function(){r.a.axios({url:"/api/logout",method:"delete"}).then((function(e){0===e.data.err&&(window.localStorage.removeItem("react_news_app_uid"),M.dispatch({type:"CLEAR_USER"}))}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"User"},r.a.createElement("div",{className:G.a.head},r.a.createElement("span",{onClick:this.logout,className:G.a.logout},"\u6ce8\u9500"),r.a.createElement("img",{src:"".concat(r.a.baseUrl)+this.props.data.icon,className:G.a.user}),r.a.createElement(h.a,{className:G.a.row},r.a.createElement(E.a,{span:12},r.a.createElement(f.a,{className:G.a.icon,style:{fontSize:"25px"},type:"heart"}),r.a.createElement("span",null,this.props.data.follow)),r.a.createElement(E.a,{span:12},r.a.createElement(f.a,{className:G.a.icon,style:{fontSize:"25px"},type:"team"}),r.a.createElement("span",null,this.props.data.follow)))),r.a.createElement(C,null))}}]),t}(r.a.Component),X=a(107),q=a.n(X),F=a(147),Q=(a(266),a(148)),Y=a.n(Q),Z=(a(285).a.Meta,function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={detail:[]},a.back=function(){a.props.history.go(-1)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(F.a)(q.a.mark((function e(){var t,a,n=this;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,a=Y.a.parse(this.props.location.search).dataName,console.log(t,a),e.next=5,r.a.axios({url:"/api/"+a+"/"+t}).then((function(e){console.log(e.data.data),n.setState({detail:e.data.data})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.detail.length>0?r.a.createElement("div",{className:"Detail"},r.a.createElement("div",{className:"top"},r.a.createElement(f.a,{onClick:this.back,className:"icon",type:"left",style:{fontSize:"30px"}})),r.a.createElement("div",null,r.a.createElement("div",{className:"up"},r.a.createElement("h3",null,this.state.detail[0].title),r.a.createElement("div",{className:"auth"},r.a.createElement("img",{className:"img",src:r.a.baseUrl+this.state.detail[0].auth_icon}),r.a.createElement("span",{className:"span"},this.state.detail[0].title)),r.a.createElement("p",null,this.state.detail[0].content2,this.state.detail[0].content)),r.a.createElement("div",null))):r.a.createElement("div",null,"\u9aa8\u67b6\u5c4f")}}]),t}(r.a.Component)),$=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this)),e.getList(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Search"},r.a.createElement(w,{data:this.props.list,dataname:"follow"}),r.a.createElement(C,null))}}]),t}(r.a.Component),ee=Object(S.b)((function(e){return{list:e.list}}),(function(e){return{getList:function(){e({type:"CLEAR_LIST"}),e(A({api:"follow",type:"UPDATE_LIST"}))}}}))($),te=a(288),ae=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ErrorPage"},r.a.createElement(te.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.a.createElement(_.b,{to:"/home"},r.a.createElement(I.a,{type:"primary"},"Back Home"))}))}}]),t}(r.a.Component),ne=(a(278),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"face"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"face"},r.a.createElement("div",{className:"circle"})))}),re=a(149),ce=Object(S.b)((function(e){return{err:e.user.err,data:e.user.data}}),null)((function(e){var t=e.component,a=e.err,n=e.data,c=Object(re.a)(e,["component","err","data"]);return r.a.createElement(p.b,Object.assign({},c,{render:function(e){return 0===a?r.a.createElement(t,Object.assign({},e,{data:n})):r.a.createElement(p.a,{to:"/login"})}}))})),se=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.props.bLoading&&r.a.createElement(ne,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/home",component:R}),r.a.createElement(p.b,{path:"/Login",component:J}),r.a.createElement(p.b,{path:"/Reg",component:V}),r.a.createElement(ce,{path:"/User",component:K}),r.a.createElement(p.b,{path:"/List",component:ee}),r.a.createElement(p.b,{path:"/Detail/:id",component:Z}),r.a.createElement(p.a,{exact:!0,from:"/",to:"/home"}),r.a.createElement(p.b,{component:ae})))}}]),t}(n.Component),oe=Object(S.b)((function(e){return{bLoading:e.Loading}}),null)(se);a(279);x.a.interceptors.request.use((function(e){return M.dispatch({type:"VIEW_LOADING",payload:!0}),e}),(function(e){return Promise.reject(e)})),x.a.interceptors.response.use((function(e){return M.dispatch({type:"VIEW_LOADING",payload:!1}),e}),(function(e){return Promise.reject(e)})),r.a.axios=x.a;x.a;var le=window.localStorage.getItem("react_news_app_uid");le&&M.dispatch({type:"CHECK_USER",payload:JSON.parse(le)}),r.a.baseUrl="http://139.224.165.6:3000",s.a.render(r.a.createElement(S.a,{store:M},r.a.createElement(_.a,null,r.a.createElement(p.b,{component:oe}))),document.getElementById("root"))},50:function(e,t,a){e.exports={head:"User_head__CXbvv",user:"User_user__yVJ4p",icon:"User_icon__HXiUW",row:"User_row__SQBAz",logout:"User_logout__141R3"}}},[[153,1,2]]]);
//# sourceMappingURL=main.32928fb2.chunk.js.map